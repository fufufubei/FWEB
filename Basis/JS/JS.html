<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浮点误差 | FB</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/FWEB/assets/css/0.styles.63e84bdf.css" as="style"><link rel="preload" href="/FWEB/assets/js/app.253a3266.js" as="script"><link rel="preload" href="/FWEB/assets/js/2.b45c8217.js" as="script"><link rel="preload" href="/FWEB/assets/js/9.9e7cf110.js" as="script"><link rel="prefetch" href="/FWEB/assets/js/10.cb5b213a.js"><link rel="prefetch" href="/FWEB/assets/js/11.22ae0d11.js"><link rel="prefetch" href="/FWEB/assets/js/12.f74b4954.js"><link rel="prefetch" href="/FWEB/assets/js/13.316535da.js"><link rel="prefetch" href="/FWEB/assets/js/14.6802d129.js"><link rel="prefetch" href="/FWEB/assets/js/15.29f15181.js"><link rel="prefetch" href="/FWEB/assets/js/16.8d873a73.js"><link rel="prefetch" href="/FWEB/assets/js/17.4e44c1d6.js"><link rel="prefetch" href="/FWEB/assets/js/18.ece3294b.js"><link rel="prefetch" href="/FWEB/assets/js/3.288b1773.js"><link rel="prefetch" href="/FWEB/assets/js/4.044d34f1.js"><link rel="prefetch" href="/FWEB/assets/js/5.6c7e523c.js"><link rel="prefetch" href="/FWEB/assets/js/6.3fbbfaa9.js"><link rel="prefetch" href="/FWEB/assets/js/7.0e0044b8.js"><link rel="prefetch" href="/FWEB/assets/js/8.d4598d82.js">
    <link rel="stylesheet" href="/FWEB/assets/css/0.styles.63e84bdf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/FWEB/" class="home-link router-link-active"><img src="/FWEB/images/logo.jpg" alt="FB" class="logo"> <span class="site-name can-hide">FB</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/FWEB/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FWEB/Frame/Vue.html" class="nav-link">VUE</a></li><li class="dropdown-item"><!----> <a href="/FWEB/Frame/React.html" class="nav-link">React</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小程序" class="dropdown-title"><span class="title">小程序</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FWEB/MiniProject/weixin.html" class="nav-link">微信小程序</a></li><li class="dropdown-item"><!----> <a href="/FWEB/MiniProject/baidu.html" class="nav-link">百度小程序</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JS/CSS" class="dropdown-title"><span class="title">JS/CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FWEB/Basis/JS/JS.html" class="nav-link router-link-exact-active router-link-active">JS</a></li><li class="dropdown-item"><!----> <a href="/FWEB/Basis/CSS/CSS.html" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/FWEB/Basis/Plugin/html2canvas.html" class="nav-link">Plugin</a></li></ul></div></div> <a href="https://github.com/fufufubei/FWEB" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/FWEB/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FWEB/Frame/Vue.html" class="nav-link">VUE</a></li><li class="dropdown-item"><!----> <a href="/FWEB/Frame/React.html" class="nav-link">React</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小程序" class="dropdown-title"><span class="title">小程序</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FWEB/MiniProject/weixin.html" class="nav-link">微信小程序</a></li><li class="dropdown-item"><!----> <a href="/FWEB/MiniProject/baidu.html" class="nav-link">百度小程序</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JS/CSS" class="dropdown-title"><span class="title">JS/CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/FWEB/Basis/JS/JS.html" class="nav-link router-link-exact-active router-link-active">JS</a></li><li class="dropdown-item"><!----> <a href="/FWEB/Basis/CSS/CSS.html" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/FWEB/Basis/Plugin/html2canvas.html" class="nav-link">Plugin</a></li></ul></div></div> <a href="https://github.com/fufufubei/FWEB" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>浮点误差</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FWEB/Basis/JS/JS.html#浮点误差" class="sidebar-link">浮点误差</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/FWEB/Basis/JS/JS.html#ie，安卓5-0以下版本promise未定义问题" class="sidebar-link">IE，安卓5.0以下版本promise未定义问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/FWEB/Basis/JS/JS.html#ios输入框点击不灵敏" class="sidebar-link">Ios输入框点击不灵敏</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/FWEB/Basis/JS/JS.html#移动端页面中固定、绝对定位元素被键盘顶起问题" class="sidebar-link">移动端页面中固定、绝对定位元素被键盘顶起问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/FWEB/Basis/JS/JS.html#微信浏览器h5页面软键盘关闭导致页面空缺的问题" class="sidebar-link">微信浏览器H5页面软键盘关闭导致页面空缺的问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/FWEB/Basis/JS/JS.html#ios时间戳显示nan" class="sidebar-link">iOS时间戳显示NaN</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="浮点误差"><a href="#浮点误差" class="header-anchor">#</a> 浮点误差</h2> <p>JavaScript 浮点数运算时经常遇到会 0.000000001 和 0.999999999 这样奇怪的结果
以下帮你解决js四则运算浮点误差</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">let</span> num<span class="token operator">=</span><span class="token number">5</span><span class="token operator">-</span><span class="token number">3.2</span><span class="token punctuation">;</span>
    <span class="token function">parseFloat</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span>precision<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="ie，安卓5-0以下版本promise未定义问题"><a href="#ie，安卓5-0以下版本promise未定义问题" class="header-anchor">#</a> IE，安卓5.0以下版本promise未定义问题</h2> <p><strong>解决方案：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev babel<span class="token operator">-</span>polyfill
<span class="token comment">//在main.js中引入： </span>
<span class="token keyword">import</span> “babel<span class="token operator">-</span>polyfill”  
</code></pre></div><h2 id="ios输入框点击不灵敏"><a href="#ios输入框点击不灵敏" class="header-anchor">#</a> Ios输入框点击不灵敏</h2> <p><strong>问题描述：</strong>
ios端点击输入框，输入框有时不会获取焦点。
进一步现象：轻点输入框不会获取焦点，如果点重点或者点的时间长一点就可以后去焦点。
<strong>猜测：</strong> fastclick影响
<strong>原因：</strong> Ios 11之后修复了点击300毫秒延迟问题，因此在ios11之后不需要再引入fastclick.js
<strong>解决方案：</strong></p> <ul><li>方法1：
在node_module里找到fastClick文件，然后找到focus方法，加一句targetElement.focus()方法即可解决!</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">/**
    * @param  {EventTarget|Element}  targetElement
    */</span>
        <span class="token class-name">FastClick</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">focus</span>  <span class="token operator">=</span>  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">targetElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span>  length<span class="token punctuation">;</span>
        <span class="token comment">// Issue #160: on iOS 7, some input elements (e.g. date datetime month) throw a vague TypeError on setSelectionRange. These elements don't have an integer value for the selectionStart and selectionEnd properties, but unfortunately that can't be used for detection because accessing the properties also throws a TypeError. Just check the type instead. Filed as Apple bug #15122724.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>deviceIsIOS  <span class="token operator">&amp;&amp;</span>  targetElement<span class="token punctuation">.</span>setSelectionRange  <span class="token operator">&amp;&amp;</span>  targetElement<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'date'</span><span class="token punctuation">)</span> <span class="token operator">!==</span>  <span class="token number">0</span>  <span class="token operator">&amp;&amp;</span>  targetElement<span class="token punctuation">.</span>type  <span class="token operator">!==</span>  <span class="token string">'time'</span>  <span class="token operator">&amp;&amp;</span>  targetElement<span class="token punctuation">.</span>type  <span class="token operator">!==</span>  <span class="token string">'month'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            length  <span class="token operator">=</span>  targetElement<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
            targetElement<span class="token punctuation">.</span><span class="token function">setSelectionRange</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//兼容ios11以上输入框不容易获取焦点</span>
            targetElement<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            
            targetElement<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>方法2：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">const</span> str<span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> ver<span class="token operator">=</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/cpu iphone os (.*?) like mac os/</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ver<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//非IOS系统</span>
        <span class="token comment">// 引入fastclick 做相关处理</span>
        <span class="token keyword">var</span>  fc <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fc<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;/js/fastclick.js&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span>  s <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        s<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>fc<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>ver<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&lt;</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 引入fastclick 做相关处理</span>
            <span class="token keyword">var</span>  fc <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            fc<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;/js/fastclick.js&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span>  s <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            s<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>fc<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="移动端页面中固定、绝对定位元素被键盘顶起问题"><a href="#移动端页面中固定、绝对定位元素被键盘顶起问题" class="header-anchor">#</a> 移动端页面中固定、绝对定位元素被键盘顶起问题</h2> <p>在移动端项目中，往往会遇到在有输入框的页面中使用固定、绝对定位元素时被键盘顶起问题(安卓机型)，可在DOM加载完毕时执行以下代码:</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/Android/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>appVersion<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> viewH <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>viewH<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>viewH<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre></div><h2 id="微信浏览器h5页面软键盘关闭导致页面空缺的问题"><a href="#微信浏览器h5页面软键盘关闭导致页面空缺的问题" class="header-anchor">#</a> 微信浏览器H5页面软键盘关闭导致页面空缺的问题</h2> <p>**问题描述：**ios手机微信网页问题
微信6.7.4以后 H5页面里的select,input软键盘弹起的时候页面会上移，软键盘关闭页面不会下移。导致页面空缺了一部分。
微信6.7.3及其它版本不会有这个问题！页面会随着软键盘关闭而下移恢复正常！
<strong>解决方案：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 处理iOS 微信客户端高于6.7.4  键盘收起页面未下移bug
 */</span>
<span class="token punctuation">(</span><span class="token regex">/iphone|ipod|ipad/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>appVersion<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'blur'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里加了个类型判断，因为a等元素也会触发blur事件</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token parameter">_</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> areafocus <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'textarea:focus'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">let</span> inputfocus <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'input:focus'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>inputfocus<span class="token operator">+</span>areafocus<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token punctuation">[</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token string">'textarea'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>localName<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="ios时间戳显示nan"><a href="#ios时间戳显示nan" class="header-anchor">#</a> iOS时间戳显示NaN</h2> <p>安卓显示正常，ios 显示的是NaN:</p> <p>NaN-NaN1-NaN</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2017-09-18 14:58:32'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//在ios上拿不到时间戳显示NaN</span>
</code></pre></div><p>改为：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&quot;2018-02-15 20:30:00&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/-/g</span><span class="token punctuation">,</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 解决了问题，android 和 ios都正常显示</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/6/2020, 8:03:38 AM</span></div></footer> <!----> </main></div><div class="global-ui"><div class="cat-container" data-v-a13867c0><canvas id="vuepress-cat" width="280" height="250" class="live2d" data-v-a13867c0></canvas></div></div></div>
    <script src="/FWEB/assets/js/app.253a3266.js" defer></script><script src="/FWEB/assets/js/2.b45c8217.js" defer></script><script src="/FWEB/assets/js/9.9e7cf110.js" defer></script>
  </body>
</html>
